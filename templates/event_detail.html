{% extends "base.html" %}

{% block title %}{{ event.title }} - NYC Events{% endblock %}

{% block content %}
<a href="{{ url_for('index') }}" class="back-link">← Back to Events</a>

<div class="event-card">
    <h1 class="event-title">{{ event.title }}</h1>
    
    <div class="event-meta">
        {% if event.start_time %}
            <p><strong>Date & Time:</strong> {{ event.start_time.strftime('%A, %B %d, %Y at %I:%M %p') }}</p>
        {% endif %}
        
        {% if event.end_time %}
            <p><strong>End Time:</strong> {{ event.end_time.strftime('%A, %B %d, %Y at %I:%M %p') }}</p>
        {% endif %}
        
        {% if event.display_venue %}
            <p><strong>Venue:</strong> {{ event.display_venue }}</p>
        {% endif %}
        
        {% if event.location %}
            <p><strong>Location:</strong> {{ event.location }}</p>
        {% endif %}
        
        {% if event.category %}
            <p><strong>Category:</strong> {{ event.category }}</p>
        {% endif %}
        
        {% if event.price_range %}
            <p><strong>Price:</strong> {{ event.price_range }}</p>
        {% endif %}
        
        {% if event.source %}
            <p><strong>Source:</strong> {{ event.source }}</p>
        {% endif %}
    </div>
    
    {% if event.description %}
    <div class="event-description">
        <h3>Description</h3>
        <p>{{ event.description|replace('\n', '<br>')|safe }}</p>
    </div>
    {% endif %}
    
    {% if event.url %}
    <div style="margin-top: 20px;">
        <a href="{{ event.url }}" target="_blank" class="event-link">View Original Event →</a>
    </div>
    {% endif %}
    
    {% if event.source_urls and event.source_urls|length > 1 %}
    <div style="margin-top: 20px;">
        <h3>Additional Sources</h3>
        {% for url in event.source_urls %}
            {% if url != event.url %}
                <p><a href="{{ url }}" target="_blank" class="event-link">{{ url }}</a></p>
            {% endif %}
        {% endfor %}
    </div>
    {% endif %}
    
    {% if event.image_url %}
    <div style="margin-top: 20px;">
        <img src="{{ event.image_url }}" alt="{{ event.title }}" style="max-width: 100%; height: auto; border-radius: 8px;">
    </div>
    {% endif %}
</div>
{% endblock %}
